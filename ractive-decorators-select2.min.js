!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("ractive"),require("jquery"),require("select2"));else if("function"==typeof define&&define.amd)define(["ractive","jquery","select2"],b);else{if(!a.Ractive||!a.jQuery)throw new Error("Could not find Ractive, jQuery or Select2! They must be loaded before the ractive-decorators-select2 plugin");b(a.Ractive,a.jQuery,a.jQuery.fn.select2)}}("undefined"!=typeof window?window:this,function(a,b,c){"use strict";"undefined"==typeof b.fn.select2&&(b.fn.select2=c);var d;d=function(a,c){var e,f=a._ractive.root,g=!1,h={};if(c){if(!d.type.hasOwnProperty(c))throw new Error('Ractive Select2 type "'+c+'" is not defined!');h=d.type[c],"function"==typeof h&&(h=h.call(this,a))}return a._ractive.binding&&(e=f.observe(a._ractive.binding.keypath.str,function(c){g||(g=!0,window.setTimeout(function(){""===c&&b(a).select2("val",""),b(a).change(),g=!1},0))})),b(a).select2(h).on("change",function(){g||(g=!0,f.updateModel(),g=!1)}),{teardown:function(){b(a).select2("destroy"),e&&e.cancel()}}},d.type={},a.decorators.select2=d});